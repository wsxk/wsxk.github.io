---
layout: post
tags: [web]
title: "SQL & Same-Origin Policy"
date: 2024-7-22
author: wsxk
comments: true
---

- [1. SQL(structured query language)](#1-sqlstructured-query-language)
  - [1.1 CREATE TABLE](#11-create-table)
  - [1.2 DROP TABLE](#12-drop-table)
  - [1.3 INSERT INTO](#13-insert-into)
  - [1.4 SELECT](#14-select)
  - [1.5 DELETE](#15-delete)
  - [1.6 UPDATE](#16-update)
  - [1.7 UNION](#17-union)
  - [1.8 The Schema Table](#18-the-schema-table)
- [2. Same-Origin Policy](#2-same-origin-policy)
  - [2.1 Origin基本概念](#21-origin基本概念)
  - [2.2 Sending HTTP Requests Cross-Origin](#22-sending-http-requests-cross-origin)
  - [2.3 Reading HTTP Responses Cross-Origin](#23-reading-http-responses-cross-origin)


## 1. SQL(structured query language)<br>
`sql是一种查询数据的语言`<br>
### 1.1 CREATE TABLE<br>
创建表:<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191144.png)

### 1.2 DROP TABLE<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191551.png)

### 1.3 INSERT INTO<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191224.png)

### 1.4 SELECT<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191301.png)


### 1.5 DELETE<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191359.png)

### 1.6 UPDATE<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191429.png)

### 1.7 UNION<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191454.png)

### 1.8 The Schema Table<br>
`The Schema Table`是各个数据库里都有的用来存放`table信息`的`table`<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240722191655.png)

## 2. Same-Origin Policy<br>
同源策略(same-origin policy)是**浏览器最基本、最核心的安全功能**，所以只针对浏览器，这一点要确认好（anyway，你用wget等命令来下载东西的时候只需要随便点点就行了,而浏览器要关注的事情就很多了😀<br>
### 2.1 Origin基本概念<br>

```
书接上回，一个http url scheme的结构如下:
<scheme>://<host>:<port>/<path>?<query>#<fragment>

一个http url来说，其origin为:
(<scheme>, <host>, <port>)
```
判断同源的标准其实是**协议、域名、端口一致**<br>
所以:
```
同源：
http://example.com/				(http, example.com, 80)
http://example.com/cat.gif		(http, example.com, 80) 

不同源：
协议不一致：
http://example.com/				(http, example.com, 80)
https://example.com/				(https, example.com, 80)
域名不一致：
http://example.com/				(http, example.com, 80)
http://cats.example.com/		(http, cats.example.com, 80)
端口不一致：
http://example.com/				(http, example.com, 80)
http://example.com:8080/		(http, example.com, 8080)
```

### 2.2 Sending HTTP Requests Cross-Origin<br>
同源策略之一：`跨域http请求`：<br>
`跨域http请求`通常发生在在浏览器的网页里`http://example.com:80`发送请求到另一个域的服务器(比如`https://api.example.com:443`)的资源时<br>
该请求特点：<br>
```
1、由客户端（浏览器）发起
2、请求可能包括get、post、put、delete等方法
3、涉及跨域访问
4、服务端（服务器）需要配置CORS（cross-origin resource sharing，跨域资源共享）策略,每一个页面需要返回一个名为Access-Control-Allow-Origin的http头来允许外域的站点访问

值得一提的是CORS需要浏览器和服务器同时支持
```
**<br>
简单理解:**服务器的处理请求的方法如果允许跨域访问，都需要在返回响应时设置Access-Control-Allow-Origin来决定需要允许哪些站点来访问**<br>

### 2.3 Reading HTTP Responses Cross-Origin<br>
`Reading HTTP Responses Cross-Origin`请求，在`2.2节中，服务器返回http响应后`，**浏览器会根据服务器返回http响应中的Access-Control-Allow-Origin来决定是否读取该响应内容**<br>
