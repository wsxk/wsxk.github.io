---
layout: post
tags: [Android]
title: "smaliè¯­è¨€"
author: wsxk
date: 2024-3-20
comments: true
---

- [å‰è¨€](#å‰è¨€)
- [0. javaçš„é‡è¦æœºåˆ¶](#0-javaçš„é‡è¦æœºåˆ¶)
- [1. smaliè¯­è¨€](#1-smaliè¯­è¨€)
  - [1.1 smaliè¯­æ³•](#11-smaliè¯­æ³•)
    - [1.1.1 åŸºæœ¬ç±»å‹](#111-åŸºæœ¬ç±»å‹)
    - [1.1.2 å¯¹è±¡](#112-å¯¹è±¡)
    - [1.1.3 æ•°ç»„](#113-æ•°ç»„)
    - [1.1.4 æ–¹æ³•å£°æ˜åŠè°ƒç”¨](#114-æ–¹æ³•å£°æ˜åŠè°ƒç”¨)
    - [1.1.5 å¯„å­˜å™¨å£°æ˜åŠä½¿ç”¨](#115-å¯„å­˜å™¨å£°æ˜åŠä½¿ç”¨)
    - [1.1.6 DalvikæŒ‡ä»¤é›†](#116-dalvikæŒ‡ä»¤é›†)


<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C22S5YSYL7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C22S5YSYL7');
</script>

## å‰è¨€<br>
å¸Œæœ›çœ‹è¿™ç¯‡å‰å…ˆå»çœ‹çœ‹[https://wsxk.github.io/android%E9%80%86%E5%90%91%E5%AD%A6%E4%B9%A0/](https://wsxk.github.io/android%E9%80%86%E5%90%91%E5%AD%A6%E4%B9%A0/)<br>
è¿™æ˜¯æˆ‘2å¹´å‰åˆå­¦`android`æ—¶æ€»ç»“çš„æ–‡ç« ï¼Œæ„Ÿè§‰è¿˜æ˜¯èƒ½è®©ä½ å¯¹`android`æœ‰ä¸€ä¸ªåŸºæœ¬çš„æ¦‚å¿µ<br>
æœ€è¿‘åš`android`é¢˜ç•¥æ„ŸåŠ›ä¸ä»å¿ƒï¼Œæˆ–è®¸æ˜¯ä¹‹å‰åŸºç¡€æ²¡å­¦å¥½ï¼Œå¯¼è‡´é€†å‘çœ‹ä»£ç æ¯”è¾ƒç—›è‹¦çš„ç¼˜æ•…ï¼ˆanywayï¼Œ`java`éƒ½æ²¡å­¦å¥½å‘¢ï¼Œhhh<br>
ç°åœ¨å°±ä»åœ¨ä¹‹å‰å†™è¿‡çš„æ–‡ç« çš„åŸºç¡€ä¸Šå†å¾€å‰ç²¾è¿›<br>

## 0. javaçš„é‡è¦æœºåˆ¶<br>
`å»ºè®®å…ˆå­¦ä¹ ä¸€ä¸‹javaçš„åŸºæœ¬è¯­æ³•å’Œæ¦‚å¿µï¼Œè™½ç„¶ä¸å­¦æ— æ‰€è°“ï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®å­¦ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä½ ä¹‹åäº†è§£ä»€ä¹ˆæ˜¯smali`<br>
`å¦å¤–javaçš„ä¸€äº›å¥‡ç‰¹çš„æœºåˆ¶ï¼Œæ¯”å¦‚åå°„ï¼Œè¿˜æ˜¯æœ‰å¿…è¦äº†è§£çš„ï¼Œä¸ç„¶androidé€†å‘ä¼šæœ‰éšœç¢`<br>
å½“ç„¶ï¼Œæè¿°ä¸€äº›å¸¸è§çš„å­—ç¬¦è¿ç®—å°±æ²¡æœ‰å¿…è¦äº†ï¼Œè¿™é‡Œç›´æ¥è¯´ä¸€äº›javaçš„æ¯”è¾ƒé‡è¦çš„ç‰¹æ€§<br>
**0.1 é¦–å…ˆè¯´æ¯”è¾ƒé‡è¦çš„ä¸€ç‚¹ï¼Œjavaä¸­çš„`char`ç±»å‹ï¼Œä¹Ÿæ˜¯å ç”¨2ä¸ªå­—èŠ‚ï¼Œjavaåœ¨å†…å­˜ä¸­æ€»æ˜¯ä½¿ç”¨Unicodeç¼–ç **<br>
æ‰€ä»¥å³ä½¿æ˜¯`char a = 'A';`,åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºä¹Ÿä¸º`\x0041`ï¼Œä¹Ÿæ­£å› å¦‚æ­¤ï¼Œ`char a = 'ä¸­';`è¿™æ ·çš„è¯­å¥ä¹Ÿæ˜¯åˆæ³•çš„<br><br>
å¦ä¸€ä¸ªæˆ‘å…³æ³¨çš„ç‚¹æ˜¯`java`å½“ä¸­çš„`åå°„`æœºåˆ¶<br>
**0.2 åå°„:Javaçš„åå°„æ˜¯æŒ‡ç¨‹åºåœ¨è¿è¡ŒæœŸå¯ä»¥æ‹¿åˆ°ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰ä¿¡æ¯ã€‚**<br>
```
1. JVMä¸ºæ¯ä¸ªåŠ è½½çš„classåŠinterfaceåˆ›å»ºäº†å¯¹åº”çš„Classå®ä¾‹æ¥ä¿å­˜classåŠinterfaceçš„æ‰€æœ‰ä¿¡æ¯ï¼›
æ³¨æ„ï¼Œè¿™é‡Œçš„Classæ˜¯ä¸€ç§åå«Classçš„class
```
è™½ç„¶å¾ˆç»•ï¼Œä½†æ˜¯å…¶å®šä¹‰å¦‚ä¸‹ï¼š<br>
```java
public final class Class {
    private Class() {} //å€¼å¾—ä¸€æçš„æ˜¯ å› ä¸ºå®šä¹‰ä¸ºprivateï¼Œæ‰€ä»¥åªæœ‰JVMæœ‰æƒè°ƒç”¨è¿™ä¸ªå‡½æ•°
}
```

```
2. è·å–ä¸€ä¸ªclasså¯¹åº”çš„Classå®ä¾‹åï¼Œå°±å¯ä»¥è·å–è¯¥classçš„æ‰€æœ‰ä¿¡æ¯ï¼›
è¿™æ˜¯å› ä¸ºJVMåœ¨è¿è¡Œä¸­å¦‚æœéœ€è¦ç”¨åˆ°æŸä¸ªç±»å‹Aï¼Œå°±ä¼šå°†ä¿å­˜Aç±»å‹ä¿¡æ¯çš„æ–‡ä»¶A.classåŠ è½½åˆ°JVMä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªClasså®ä¾‹æ¥ä¿å­˜Aç±»å‹çš„æ‰€æœ‰ä¿¡æ¯ã€‚
åŒ…æ‹¬ç±»åã€åŒ…åã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ã€æ‰€æœ‰æ–¹æ³•ã€å­—æ®µç­‰
```
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-12-30/20240324143519.png)
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-12-30/20240324144557.png)

```
3. é€šè¿‡Classå®ä¾‹è·å–classä¿¡æ¯çš„æ–¹æ³•ç§°ä¸ºåå°„ï¼ˆReflectionï¼‰ï¼›
```
å…·ä½“è€Œè¨€ï¼Œé€šè¿‡`Classå®ä¾‹è·å–classä¿¡æ¯çš„æ–¹æ³•æœ‰ä¸‰ç§`<br>
```java
package java_code;
public class Main {
    public static void main(String[] args){
        try {
            String  a = "wsxk";
            Class cls1 = a.getClass(); // æ–¹æ³•ä¸€
            Class cls2 = String.class; // æ–¹æ³•äºŒ
            Class cls3 = Class.forName("java.lang.String"); // æ–¹æ³•ä¸‰
            printClassInfo(Class.class);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
    }
    
    static void printClassInfo(Class cls) {
        System.out.println("Class name: " + cls.getName());
        System.out.println("Simple name: " + cls.getSimpleName());
        if (cls.getPackage() != null) {
            System.out.println("Package name: " + cls.getPackage().getName());
        }
        System.out.println("is interface: " + cls.isInterface());
        System.out.println("is enum: " + cls.isEnum());
        System.out.println("is array: " + cls.isArray());
        System.out.println("is primitive: " + cls.isPrimitive());
    }
}

```

```
4. JVMæ€»æ˜¯åŠ¨æ€åŠ è½½classï¼Œå¯ä»¥åœ¨è¿è¡ŒæœŸæ ¹æ®æ¡ä»¶æ¥æ§åˆ¶åŠ è½½class
```

`åå°„æœºåˆ¶`çš„å‡ºç°ï¼Œå¾ˆå¤§ç¨‹åº¦æ˜¯æœåŠ¡äº**javaåº•å±‚æœºåˆ¶æˆ–åº•å±‚apiçš„**ï¼Œæ¯”å¦‚æŸä¸ªå‡½æ•°funcæ˜¯ç”¨æ¥è¿­ä»£æ•°ç»„é‡Œçš„å…ƒç´ çš„ï¼Œç„¶è€Œæ•°ç»„é‡Œçš„å…ƒç´ çš„ç±»å‹æ˜¯å¯ä»¥æ˜¯intï¼Œfloat.....ï¼Œç„¶è€Œæ ¹æ®ç±»å‹æ¥å°†funcå†™æˆfuncAï¼ŒfuncBï¼Œ...åˆè´¹äº‹ï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡è·å–è¯¥ç±»å‹çš„Classï¼Œè°ƒç”¨å…¶æä¾›çš„æ–¹æ³•æ¥è¿›è¡Œè¿­ä»£äº†<br>
å¯¹äºåå°„çš„ä½¿ç”¨ï¼Œæƒ³è¦æœ‰æ›´å¤šäº†è§£ï¼Œå¯ä»¥çœ‹çœ‹[https://www.liaoxuefeng.com/wiki/1252599548343744/1255945147512512](https://www.liaoxuefeng.com/wiki/1252599548343744/1255945147512512)<br>

## 1. smaliè¯­è¨€<br>
æ‰€è°“`smaliè¯­è¨€`ï¼Œå…¶å®æ˜¯`Davlikå­—èŠ‚ç `<br>
å¯ä»¥ç”¨`JVM`å’Œ`javaå­—èŠ‚ç `çš„å…³ç³»ç±»æ¯”`Davilik`å’Œ`smali`<br>
`Davalik`å…¶å®æ˜¯è¿è¡Œäº`android`ç³»ç»Ÿä¸­çš„è™šæ‹Ÿæœºï¼Œç”¨äºè¿è¡Œjavaç¨‹åº<br>

### 1.1 smaliè¯­æ³•<br>
é¦–å…ˆä»`java`ä¸­çš„å¸¸è§è¯­æ³•å¼€å§‹è¯´æ˜å…¶å¯¹åº”çš„`smali`è¯­æ³•<br>
#### 1.1.1 åŸºæœ¬ç±»å‹<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-12-30/20240325223519.png)
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-12-30/20240325223655.png)

#### 1.1.2 å¯¹è±¡<br>
å¦‚æœäº†è§£`java`çš„è¯ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“`javaé™¤äº†åŸºæœ¬ç±»å‹ï¼ˆå¦‚intï¼‰ç­‰`ï¼Œè¿˜æœ‰ä¸€ç§`object`ç±»å‹ï¼Œä»–ä»¬å±äº**å¼•ç”¨ç±»å‹**<br>
Objectç±»å‹ï¼Œå³å¼•ç”¨ç±»å‹çš„å¯¹è±¡ï¼Œåœ¨å¼•ç”¨æ—¶ï¼Œä½¿ç”¨Lå¼€å¤´ï¼Œåé¢ç´§æ¥ç€çš„æ˜¯å®Œæ•´çš„åŒ…åï¼Œæ¯”å¦‚ï¼š`java.lang.String`ï¼Œå¯¹åº”çš„Smaliè¯­æ³•åˆ™æ˜¯ `Ljava/lang/String`<br>

#### 1.1.3 æ•°ç»„<br>
æ•°ç»„å…¶å®åœ¨`java`ä¸­ä¹Ÿå±äº**å¼•ç”¨ç±»å‹**<br>
ä¸€ç»´æ•°ç»„åœ¨ç±»å‹çš„å·¦è¾¹åŠ ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œæ¯”å¦‚ï¼š`[I` ç­‰åŒäºJavaçš„ `int[ ] `ï¼Œ`[F` ç­‰åŒäºJavaçš„ `float[ ]` <br>
**æ¯å¤šä¸€ç»´å°±åŠ ä¸€ä¸ªæ–¹æ‹¬å·ï¼Œæœ€å¤šå¯ä»¥è®¾ç½®255ç»´ã€‚**<br>

#### 1.1.4 æ–¹æ³•å£°æ˜åŠè°ƒç”¨<br>
ç»™ä¸ªä¾‹å­<br>
```smali
Lpackage/name/ObjectName;->MethodName(III)Z
```

> 1. Lpackage/name/ObjectName; è¿™æ˜¯å£°æ˜çš„å…·ä½“ç±»å‹ï¼Œå³javaä¸­çš„ç±»
> 2. ->MethodName(III)Z è°ƒç”¨åä¸ºMethodNameçš„æ–¹æ³•ï¼Œå…¶ä¸­Iå’ŒZä¸Šæ–‡æåˆ°è¿‡ï¼Œä¸ºintå’Œbooleançš„smaliè¡¨ç¤ºï¼Œæ‰€ä»¥è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ˜¯3ä¸ªintå‹ï¼Œè¿”å›å€¼çš„ç±»å‹ä¸ºboolean

**ç”±äºæ–¹æ³•çš„å‚æ•°åˆ—è¡¨æ²¡æœ‰ä½¿ç”¨é€—å·è¿™æ ·çš„åˆ†éš”ç¬¦è¿›è¡Œåˆ’åˆ†ï¼Œæ‰€ä»¥åªèƒ½ä»å·¦åˆ°å³ï¼Œæ ¹æ®ç±»å‹å®šä¹‰æ¥åŒºåˆ†å‚æ•°ä¸ªæ•°ã€‚**<br>
å†åˆ—å‡ ä¸ªå®ä¾‹æ¥è®©å¤§ä¼™ä½“ä¼šä½“ä¼šï¼š<br>

```java
/**ä¸‹åˆ—ä»£ç å‡ä¸ºjavaä¸­Stringç±»çš„å†…ç½®æ–¹æ³•**/

javaæ–¹æ³•:public char charAt(int index){...}
Davilkæè¿°:Ljava/lang/String;->charAt(I)C

javaæ–¹æ³•:public void getChars(int srcBegin,int srcEnd,char dst[],int dstBegin){...}
Davilkæè¿°:Ljava/lang/String;->getChars(II[CI)V

javaæ–¹æ³•:public boolean equals(Object anObject){...}
Davilkæè¿°:Ljava/lang/String;->equals(Ljava/lang/Object)Z
```

é—®é¢˜æ¥äº†ï¼Œä¸€ä¸ªç±»çš„æ„é€ æ–¹æ³•è°ƒç”¨å‡½æ•°åç§°ç»Ÿä¸€ä¸º`<init>`<br>

#### 1.1.5 å¯„å­˜å™¨å£°æ˜åŠä½¿ç”¨<br>
åœ¨Smaliä¸­ï¼Œå¦‚æœéœ€è¦å­˜å‚¨å˜é‡ï¼Œå¿…é¡»å…ˆå£°æ˜è¶³å¤Ÿæ•°é‡çš„å¯„å­˜å™¨ï¼Œ1ä¸ªå¯„å­˜å™¨å¯ä»¥å­˜å‚¨32ä½é•¿åº¦çš„ç±»å‹ï¼Œæ¯”å¦‚Intï¼Œè€Œä¸¤ä¸ªå¯„å­˜å™¨å¯ä»¥å­˜å‚¨64ä½é•¿åº¦ç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚Longæˆ–Doubleã€‚<br>
å£°æ˜å¯ä½¿ç”¨çš„å¯„å­˜å™¨æ•°é‡çš„æ–¹å¼ä¸ºï¼š`.registers N`ï¼ŒNä»£è¡¨éœ€è¦çš„å¯„å­˜å™¨çš„æ€»ä¸ªæ•°ï¼ŒåŒæ—¶ï¼Œè¿˜æœ‰ä¸€ä¸ªå…³é”®å­— `.local` ï¼Œå®ƒç”¨äºå£°æ˜éå‚æ•°çš„å¯„å­˜å™¨ä¸ªæ•°ï¼ˆåŒ…å«åœ¨registerså£°æ˜çš„ä¸ªæ•°å½“ä¸­ï¼‰ï¼Œä¹Ÿå«åšæœ¬åœ°å¯„å­˜å™¨ï¼Œåªåœ¨ä¸€ä¸ªæ–¹æ³•å†…æœ‰æ•ˆï¼Œä½†ä¸å¸¸ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨registerså³å¯ã€‚<br>

> 1. æœ¬åœ°å¯„å­˜å™¨ï¼Œç”¨ v0 ï¼Œ v1 ï¼Œ v2 ...è¡¨ç¤º
> 2. å‚æ•°å¯„å­˜å™¨(parameter register)ï¼Œç”¨ p0 ï¼Œ p1 ï¼Œ p2 ï¼Œ ...è¡¨ç¤º
> 3. .registers ç”¨æ¥è¡¨æ˜æ–¹æ³•ä¸­ å‚æ•°å¯„å­˜å™¨+æœ¬åœ°å¯„å­˜å™¨ çš„å€¼
> 4. .local ç”¨æ¥è¡¨æ˜æ–¹æ³•ä¸­æœ¬åœ°å¯„å­˜å™¨çš„å€¼ 
> 5. åœ¨å®ä¾‹å‡½æ•°ä¸­ï¼Œp0ä»£æŒ‡â€œthisâ€ï¼Œp1è¡¨ç¤ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œp2ä»£è¡¨å‡½æ•°ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°â€¦ï¼Œ
> 6. åœ¨staticå‡½æ•°ä¸­ï¼Œp0å°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°... å› ä¸ºstaticä¸ç”¨ä¼ thisæŒ‡é’ˆ

ä¸¾ä¸ªä¾‹å­<br>
```java
/**javaä¸­çš„æŸä¸ªå‡½æ•°**/
MyObject->myMethod(int p1, float p2, boolean p3)

method LMyObject;->myMethod(IFZ)V
/**å¯¹äºè¿™ä¸ªæ–¹æ³•ï¼Œæœ€å°‘éœ€è¦5ä¸ªå¯„å­˜å™¨ï¼Œp0ä»£è¡¨thisï¼Œp1ä¸ºintï¼Œp2+p3è¡¨ç¤ºfloatï¼Œp4ä»£è¡¨boolean**/
```
**å¦‚æœæ–¹æ³•ä½“å†…å«æœ‰å¸¸é‡ã€å˜é‡ç­‰å®šä¹‰ï¼Œåˆ™éœ€è¦æ ¹æ®æƒ…å†µå¢åŠ å¯„å­˜å™¨ä¸ªæ•°ï¼Œæ•°é‡åªè¦æ»¡è¶³éœ€æ±‚ï¼Œä¿è¯éœ€è¦è·å–çš„å€¼ä¸è¢«åé¢çš„èµ‹å€¼å†²æ‰å³å¯ï¼Œæ–¹æ³•æœ‰ï¼šå­˜å…¥ç±»ä¸­çš„å­—æ®µä¸­ï¼ˆå­˜å…¥åï¼Œå¯„å­˜å™¨å¯è¢«é‡æ–°èµ‹å€¼ï¼‰ï¼Œæˆ–è€…é•¿æœŸå ç”¨ä¸€ä¸ªå¯„å­˜å™¨**<br>

#### 1.1.6 DalvikæŒ‡ä»¤é›†<br>
ç»™å‡º[https://source.android.com/devices/tech/dalvik/dalvik-bytecode#instructions](https://source.android.com/devices/tech/dalvik/dalvik-bytecode#instructions)å®˜æ–¹æŒ‡å¯¼çš„æŒ‡ä»¤é›†<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240325231229.png)
**éœ€è¦æ³¨æ„ï¼Œè¿™é‡Œçš„ `move/from16 v1, v2`ä¸­çš„16ï¼ŒæŒ‡çš„æ˜¯å¯„å­˜å™¨çš„ç´¢å¼•æ˜¯16ä½ï¼Œå³v32252è¿™ç§ï¼ŒDavikä¸­çš„å¯„å­˜å™¨é»˜è®¤éƒ½æ˜¯å››å­—èŠ‚å¤§å°ï¼Œå³ä½¿é‡åˆ°longï¼Œdoubleè¿™ç§éœ€è¦8å­—èŠ‚çš„ç±»å‹ï¼Œé»˜è®¤å–vn,vn+1ä¸¤ä¸ªå¯„å­˜å™¨å…±åŒè¡¨ç¤º**<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240325231309.png)
**æ³¨æ„ï¼Œè¿™é‡Œçš„return v1ï¼Œæ˜¯å§v1å¯„å­˜å™¨çš„å€¼ï¼Œæ”¾å…¥ "å¯„å­˜å™¨ç»„"ï¼ˆRegister Groupï¼‰çš„ç»“æ„å½“ä¸­ï¼Œè¯¥ç»“æ„ä¸“é—¨ç”¨æ¥å­˜æ”¾è¿”å›å€¼**<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240325231327.png)
**constæŒ‡ä»¤é‡Œçš„4ï¼Œ16å°±æŒ‡çš„æ˜¯ç«‹å³æ•°çš„ä½å®½äº†**<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240326223240.png)
**virtualè°ƒç”¨protectå’Œpublicæ–¹æ³•ï¼Œsuperè°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œdirectè°ƒç”¨privateæ–¹æ³•ï¼Œstaticè°ƒç”¨é™æ€æ–¹æ³•ï¼Œinterfaceè°ƒç”¨æ¥å£æ–¹æ³•**<br>
ä¸‹é¢è¿›å…¥ä¸¾ä¾‹ç¯èŠ‚ï¼ˆå¯èƒ½æŸä¸ªç±»ä¸­æ²¡æœ‰è¯¥æ–¹æ³•ï¼Œåªæ˜¯ä¸ºäº†ç®€å•ä»‹ç»åŸç†ï¼Œè¯·ä¸è¦ç»†ç©¶ğŸ˜€<br>
```java
/**è°ƒç”¨äº†Stringç±»ä¸­çš„funæ–¹æ³•ï¼ˆæˆ‘è™šæ„çš„ï¼‰ï¼Œé™æ€å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯Booleanå€¼**/
invoke-static {}, Ljava/lang/String;->fun()Z

/**sget-objectè·å–å¯¹è±¡**/
sget-object v0, Ljava/lang/String;->shareHandler:Landroid/os/Handler;
/**è°ƒç”¨è¯¥å¯¹è±¡çš„æ–¹æ³•**/
invoke-virtual {v0, v3}, Landroid/os/Handler;->removeCallbacksAndMessages(Ljava/lang/Object;)V

/**è°ƒç”¨å‡½æ•°åï¼ŒæŠŠè¿”å›å€¼ç§»åŠ¨åˆ°v1ä¸­**/
const/4 v2, 0x0
invoke-virtual {p0, v2}, Ljava/lang/String;->getPreferences(I)Landroid/content/SharedPreferences;
move-result-object v1
```

![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240326230741.png)
è‡³äºåˆ¤æ–­æŒ‡ä»¤ï¼Œå…¶å®æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œå°±ä¸ç»†è¯´äº†<br>
```java
if-eq vA, VB, cond_** å¦‚æœvAç­‰äºvBåˆ™è·³è½¬åˆ°cond_**ã€‚ç›¸å½“äºif (vA==vB)
if-ne vA, VB, cond_** å¦‚æœvAä¸ç­‰äºvBåˆ™è·³è½¬åˆ°cond_**ã€‚ç›¸å½“äºif (vA!=vB)
if-lt vA, VB, cond_** å¦‚æœvAå°äºvBåˆ™è·³è½¬åˆ°cond_**ã€‚ç›¸å½“äºif (vA<vB)
if-le vA, VB, cond_** å¦‚æœvAå°äºç­‰äºvBåˆ™è·³è½¬åˆ°cond_**ã€‚ç›¸å½“äºif (vA<=vB)
if-gt vA, VB, cond_** å¦‚æœvAå¤§äºvBåˆ™è·³è½¬åˆ°cond_**ã€‚ç›¸å½“äºif (vA>vB)
if-ge vA, VB, cond_** å¦‚æœvAå¤§äºç­‰äºvBåˆ™è·³è½¬åˆ°cond_**ã€‚ç›¸å½“äºif (vA>=vB)
 
if-eqz vA, :cond_** å¦‚æœvAç­‰äº0åˆ™è·³è½¬åˆ°:cond_** ç›¸å½“äºif (VA==0)
if-nez vA, :cond_** å¦‚æœvAä¸ç­‰äº0åˆ™è·³è½¬åˆ°:cond_**ç›¸å½“äºif (VA!=0)
if-ltz vA, :cond_** å¦‚æœvAå°äº0åˆ™è·³è½¬åˆ°:cond_**ç›¸å½“äºif (VA<0)
if-lez vA, :cond_** å¦‚æœvAå°äºç­‰äº0åˆ™è·³è½¬åˆ°:cond_**ç›¸å½“äºif (VA<=0)
if-gtz vA, :cond_** å¦‚æœvAå¤§äº0åˆ™è·³è½¬åˆ°:cond_**ç›¸å½“äºif (VA>0)
if-gez vA, :cond_** å¦‚æœvAå¤§äºç­‰äº0åˆ™è·³è½¬åˆ°:cond_**ç›¸å½“äºif (VA>=0)
```
DalvikæŒ‡ä»¤é›†ä¸­è¿˜æœ‰æœ€é‡è¦çš„ä¸€ç¯ï¼Œå¯¹è±¡çš„å±æ€§**å–å€¼ï¼ˆgetï¼‰å’Œ èµ‹å€¼ï¼ˆputï¼‰**<br>
ä¸¾ä¸ªä¾‹å­:<br>
```java
/**æŠŠ100æ”¾åˆ°p0ï¼ˆå³Lcom/coderyuan/smali/MainActivityå¯¹è±¡çš„mIntAå­—æ®µä¸­ï¼Œè¯¥å­—æ®µä¸ºæ•´æ•°**/
const/16 v0, 0x64
iput v0, p0, Lcom/coderyuan/smali/MainActivity;->mIntA:I
/**å…¶ä¸­æŒ‡ä»¤çš„å‰ç¼€æ˜¯ æ•°ç»„ï¼ˆarrayï¼‰ã€å®ä¾‹ï¼ˆinstanceï¼‰å’Œé™æ€ï¼ˆstaticï¼‰ä¸‰ç§ï¼Œå¯¹åº”çš„ç¼©å†™å‰ç¼€å°±æ˜¯aã€iã€s**/
```
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2024-3-25/20240326231301.png)
