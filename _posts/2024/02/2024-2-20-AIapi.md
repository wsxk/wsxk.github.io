---
layout: post
tags: [software_build]
title: "openai API试玩"
date: 2024-2-20
author: wsxk
comments: true
---

- [1. 申请API key](#1-申请api-key)
- [2. 安装python环境](#2-安装python环境)
- [3. 设置api key进行开发](#3-设置api-key进行开发)

PS：看最近openai风生水起啊，又出了个sora，属实是有点狠，本人感觉有点out了，于是乎决定玩玩openai的服务<br>

## 1. 申请API key<br>
[https://platform.openai.com/api-keys](https://platform.openai.com/api-keys)<br>
中创建 API key<br>
**当然，最重要的充值是不能忘记的**<br>

## 2. 安装python环境<br>
```python
pip install openai
pip install python-dotenv
```

## 3. 设置api key进行开发<br>
首先在`.gitignore`中写入一行`.env`，随后在你的工作区域下创建`.env`文件，其中写入你申请到的`api key`<br>
```
# Once you add your API key below, make sure to not share it with anyone! The API key should remain private.
OPENAI_API_KEY=sk-xxxx
```
然后再写代码<br>
```python
from openai import OpenAI
from dotenv import load_dotenv

# 将.env中的变量加载
load_dotenv()
client = OpenAI()

completion = client.chat.completions.create(
  model="gpt-3.5-turbo",
  messages=[
    {"role": "system", "content": "You are a poetic assistant, skilled in explaining complex programming concepts with creative flair."},
    {"role": "user", "content": "Compose a poem that explains the concept of recursion in programming."}
  ]
)

print(completion.choices[0].message)
```
