---
layout: post
tags: [c++]
title: "c++ 成员初始化列表&三元运算符"
date: 2023-3-6
author: wsxk
comments: true
---

- [成员初始化列表](#成员初始化列表)
- [为什么要使用成员初始化列表](#为什么要使用成员初始化列表)
- [三元运算符](#三元运算符)


结论：类中的初始化最好都使用成员初始化列表<br>

## 成员初始化列表
成员初始化列表是一个很好用的东西，用在类的初始化函数当中<br>
```c++
class Entity {
public:
	int a;
	int b;
	int c;
	Entity() 
		: a(1),b(2),c(3) //成员初始化列表
	{
		std::cout << a << b << c << std::endl;
	}
};
int main() {
	Entity test;
}
```
在一个类需要初始化很多变量时，你可以直接一行解决，十分方便。<br>


## 为什么要使用成员初始化列表<br>
```c++
#include <iostream>
#include <string>

class example {
public:
	example() {
		std::cout << "example created!" << std::endl;
	}
	example(int x) {
		std::cout << "example created with " << x << std::endl;
	}
};

class Entity {
public:
	example e;
	std::string m_string;
	int a;
	int b;
	int c;
	Entity() 
		: a(1),b(2),c(3)
	{
		e = example(8);
		m_string = "hahah";
		std::cout << a << b << c << std::endl;
	}
};
int main() {
	Entity test;

}
```
运行这段代码，我们发现 Entity类型中的example被初始化了2次（运行后发现打印了2输出函数）<br>
而使用成员初始化列表则不会出现这种情况。<br>
```c++
#include <iostream>
#include <string>

class example {
public:
	example() {
		std::cout << "example created!" << std::endl;
	}
	example(int x) {
		std::cout << "example created with " << x << std::endl;
	}
};

class Entity {
public:
	example e;
	std::string m_string;
	int a;
	int b;
	int c;
	Entity() 
		: a(1),b(2),c(3),e(8),m_string("hhh")
	{
		std::cout << a << b << c << std::endl;
	}
};
int main() {
	Entity test;
}
```


## 三元运算符<br>
```c++
int a = 10;
int b = a > 10 ? 5 : 6;
```
就是一种三元运算符的使用方式，等价替换为:
```c++
int a = 10;
if(a>10){
	b = 5;
}else{
	b = 6;
}
```

用三元运算符可以减少代码行数，简化代码，但是尽量不要用三元运算符进行嵌套（固然代码很少，但是很搞人心态哈哈哈）<br>