---
layout: post
tags: [c++]
title: "c++å¼•ç”¨&ç±»"
date: 2023-2-28
author: wsxk
comments: true
---

- [å¼•ç”¨](#å¼•ç”¨)
- [ç±»](#ç±»)
  - [classå’Œstructçš„åŒºåˆ«](#classå’Œstructçš„åŒºåˆ«)
  - [å¦‚ä½•ä½¿ç”¨ç±»](#å¦‚ä½•ä½¿ç”¨ç±»)


## å¼•ç”¨<br>
c++çš„å¼•ç”¨å…¶å®æ˜¯ä¸€ç§`semantic sugar`ã€‚<br>
å¼•ç”¨ç›¸å½“äºç»™å˜é‡èµ·ä¸€ä¸ªåˆ«åã€‚<br>
**å› æ­¤ï¼Œå¼•ç”¨åœ¨å£°æ˜æ—¶å°±å¿…é¡»æœ‰ä¸€ä¸ªå®šä¹‰ï¼Œå¹¶ä¸”è¿™ä¸ªå®šä¹‰åœ¨è¿™ä¸ªç¨‹åºä¸­æ— æ³•è¢«æ›´æ”¹**<br>
```c++
int x = 6;
int b = 3;
std::cout << x << std::endl;
int& ref=x; //è¿™ä¸ªç¨‹åºä¸­ï¼Œrefåªèƒ½æ˜¯xçš„åˆ«å
ref= b; //ç›¸å½“äº x = b
```
å…¶å®å¼•ç”¨è¿™ç§ç”¨æ³•åœ¨æ™®é€šç¼–å†™ä»£ç æ—¶æ˜¾å¾—æ²¡æœ‰å¿…è¦ï¼Œä½†æ˜¯åœ¨å‡½æ•°ä¼ å‚ä¸­å°±æ¯”è¾ƒæœ‰ç”¨äº†ã€‚<br>
```c++
int increment(int& x) {
	x++;
	return 0;
}

int main() {
	int x = 6;
	int b = 3;
	std::cout << x << std::endl;
	int& ref=x;
	increment(x);

	std::cout << x << std::endl;	
}
```
ç”¨è¿™ç§åŠæ³•ï¼Œç›¸æ¯”äºæŒ‡é’ˆï¼Œä½¿å¾—ä»£ç æ¸…æ™°å¥½çœ‹äº†ä¸å°‘ï¼ˆğŸ˜€å…¶å®è¿™å°±æ˜¯å¼•ç”¨çš„ä½œç”¨ï¼‰<br>
**å¼•ç”¨èƒ½åšçš„ï¼ŒæŒ‡é’ˆä¹Ÿèƒ½åšï¼›å¼•ç”¨ä¸èƒ½åšçš„ï¼ŒæŒ‡é’ˆä¹Ÿæ— æ³•åšåˆ°**<br>
**å®é™…ä¸Šå¼•ç”¨çš„åº•å±‚é€»è¾‘å°±æ˜¯æŒ‡é’ˆ**<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-2-18-reverse/20230228131703.png)
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-2-18-reverse/20230228131733.png)


## ç±»<br>
ç±»æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ç§æ¦‚å¿µ<br>
ç±»æ˜¯ä¸€ç§ç‰©ä½“çš„å®è§‚æè¿°ï¼ˆdata åŠ  functionï¼‰<br>
```c
class player {
public:
	int x, y, speed;
	void move(int xa, int ya, int speeda) {
		x += xa * speeda;
		y += ya * speeda;
	}
};

int main() {
	player playerx, playery;
	playerx.x = 1;
	playerx.y = 1;
	playerx.speed = 2;
	playerx.move(2, 4, 5);
	std::cout << playerx.x<< std::endl;
}
```

### classå’Œstructçš„åŒºåˆ«<br>
å…¶å®å”¯ä¸€çš„åŒºåˆ«æ˜¯é»˜è®¤çš„å¯è§æ€§ã€‚<br>
**classé»˜è®¤ç§æœ‰ï¼ˆprivateï¼‰ï¼Œstructé»˜è®¤å…¬å¼€ï¼ˆpublicï¼‰**<br>
```c++
struct player {
	int x, y, speed;
	void move(int xa, int ya, int speeda) {
		x += xa * speeda;
		y += ya * speeda;
	}
};

int main() {
	player playerx, playery;
	playerx.x = 1;
	playerx.y = 1;
	playerx.speed = 2;
	playerx.move(2, 4, 5);
	std::cout << playerx.x<< std::endl;
}
```
è¿™æ®µä»£ç è·Ÿä¸Šä¸€æ®µä»£ç æ˜¯åŒä¸€ä¸ªæ•ˆæœã€‚<br>
è™½ç„¶å®é™…ä¸Š`struct`å’Œ`class`åœ¨æŠ€æœ¯ä¸Šæ²¡æœ‰åŒºåˆ«ï¼Œä½†æ˜¯å¤§å¤šæ•°äººéƒ½å¯¹å®ƒä»¬ä¸¤ä¸ªåšäº†åŒºåˆ†ã€‚<br>
> 1. structç”¨åœ¨å°‘é‡çš„æ•°æ®æ“ä½œä¸Šï¼Œclassç”¨åœ¨æ¯”è¾ƒå¤æ‚çš„è¡Œä¸ºä¸Šï¼ˆæ¯”å¦‚ç©å®¶çš„å±æ€§ï¼ŒåŠŸèƒ½ï¼Œetcï¼‰
> 2. ç”¨åœ¨ç»§æ‰¿ï¼ˆinheritï¼‰ä¸Šï¼Œæ™®éç”¨æ³•éƒ½æ˜¯class


### å¦‚ä½•ä½¿ç”¨ç±»<br>
```c++
#include <iostream>

class Log {
public:
	const int LogLevelError = 0;
	const int LogLevelWarning = 1;
	const int LogLevelInfo = 2;
private:
	int m_LogLevel;
public:
	void SetLogLevel(int level) {
		m_LogLevel = level;
	}
	void LogError(const char* message) {
		if (m_LogLevel >= LogLevelError) {
			std::cout << "[ERROR]: " << message << std::endl;
		}
	}
	void LogWarning(const char* message) {
		if (m_LogLevel >= LogLevelWarning) {
			std::cout << "[WARNING]: " << message << std::endl;
		}
	}
	void LogInfo(const char* message) {
		if (m_LogLevel >= LogLevelInfo) {
			std::cout << "[INFO]: " << message << std::endl;
		}
	}
};

int main() {
	Log log;
	log.SetLogLevel(log.LogLevelWarning);
	log.LogError("hello");
	log.LogWarning("hello");
	log.LogInfo("hello");
	
}
```