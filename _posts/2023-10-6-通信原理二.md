---
layout: post
tags: [无线网络安全]
author: wsxk
comment: true
date: 2023-10-6
title: "通信原理 二"
---

- [2. 信号和频谱](#2-信号和频谱)
  - [一、正弦信号](#一正弦信号)
  - [二、复指数信号](#二复指数信号)
  - [三、 离散谱](#三-离散谱)
  - [四、 连续谱](#四-连续谱)
- [3. 无线传播信道](#3-无线传播信道)
  - [一、 无线信道基础](#一-无线信道基础)
  - [二、 无线信道特征](#二-无线信道特征)
  - [三、 无线信道模型](#三-无线信道模型)
- [4. 信源编码](#4-信源编码)
  - [4.1 模/数转换](#41-模数转换)
  - [4.2 语音编码](#42-语音编码)
  - [4.3 视频编码](#43-视频编码)
- [5. 信道编码与交织](#5-信道编码与交织)
  - [5.1 FEC前向纠错——重复码\&分组码](#51-fec前向纠错重复码分组码)
  - [5.2 FEC前向纠错——卷积码](#52-fec前向纠错卷积码)
  - [5.3 交织\&反馈重传](#53-交织反馈重传)
- [6. 脉冲成形](#6-脉冲成形)
- [7. 调制解调](#7-调制解调)
  - [7.1 模拟调制](#71-模拟调制)
    - [7.1.1 幅度调制](#711-幅度调制)
  - [7.2 数字调制](#72-数字调制)
- [8.](#8)

从这一节开始，我们开始仔细的了解先前学的大框架里的各个部分<br>


<head>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
            }
        });
    </script>
</head>

## 2. 信号和频谱<br>
**任何复杂的信号都可以分解成一系列不同频率的基本信号之和**<br>

### 一、正弦信号<br>
正弦信号由`幅度、频率、初项`三个参数确定<br>
$s(t)=Acos(2\pi ft+\phi)$ <br>
正弦信号有`积分特性和正交特性`<br>

### 二、复指数信号<br>
正弦信号处理过程中使用`三角函数`运算，计算比较繁琐<br>
`欧拉公式`发现后，人们注意到复指数信号。复指数信号使用复数运算，计算比较简洁，所以很快就变成了基本信号<br>
$e^{j\omega t}=cos(\omega t)+jsin(\omega t)$<br>
$s(t)=Ae^{j(\omega t+\phi)}$<br><br>
复指数信号也有`积分特性、正交特性`<br>
同样，复指数信号由`幅度、频率、初向`三个参数确定<br>

### 三、 离散谱<br>
`如何清晰描述构成信号的所有复指数信号成分？` 引出了`频谱`的概念<br>
**离散谱也称为三维频谱，以频率为横轴，将构成信号的所有复指数信号的幅度和初相画到与横轴垂直的复平面上，就得到了三维频谱**<br><br>
因为三维频谱很直观，然而绘制不方便，所以一般用`幅度频谱`和`相位频谱`来代替三维频谱<br>
**幅度频谱：** 以频率为横轴，将构成信号的所有复指数信号的幅度画到一张图上，就得到了幅度频谱<br><br>
**相位频谱：** 以频率为横轴，将构成信号的所有复指数信号的初相画到一张图上，就得到了相位频谱<br><br>

### 四、 连续谱<br>
周期信号的离散谱，在周期趋于无穷大，周期信号能得到非周期信号的情况下，就得到了连续谱<br>
离散谱无法描述非周期信号！因为非周期信号傅里叶变换后的系数无穷多，且每个系数对应的幅度几乎一致，无法用离散谱来描述<br>
**连续谱又称为密度频谱，指单位带宽上的频谱**<br>
连续谱用的是`sinc`函数，而不是`sin`函数<br>


## 3. 无线传播信道<br>
### 一、 无线信道基础<br>
无线信道是指无线电波在空间中传播的媒介<br>
无线信道包含`发射天线、传输媒介、接收天线`<br>
且无线通信传输的容量是由**无线信道**决定<br>
`无线传播机制`有`直射、反射、衍射、折射、散射（direction、reflection、diffraction、refraction、scattering）`<br><br>
无线通信系统分为`LOS(line of sight,视距)`和`NLOS(non line of sight,非视距)`<br>
LOS：发射天线和接收天线之间没有障碍物,即直射<br>
NLOS：发射天线和接收天线之间有障碍物，即通过反射、衍射、折射、散射的方式，让基站和终端的信号进行通信<br><br>
**因为一般情况下不是直射，在有障碍物的情况下，信号穿过障碍物时会产生穿透损耗**<br>


### 二、 无线信道特征<br>
无线信道的特征有四大效应：`多径效应（基站和终端的路径有多条）、远近效应（对距离远的用户发送强信号，这会对距离近的用户产生影响）、多普勒效应（用户移动时，频率会发生变换）、阴影效应（有障碍物阻挡，导致信号减弱）`<br><br>
因为四大效应产生了三大扩展：`时延扩展、多普勒扩展、角度扩展`<br>
**时延扩展：** 由于多径效应，导致信号到达时间不同，这就是时延扩展<br>
**多普勒扩展：** 由于多普勒效应，导致信号频率发生变化，这就是多普勒扩展<br>
**角度扩展：** 由于阴影效应，导致信号到达角度不同，这就是角度扩展<br><br>
三种相干性：`时域相干性（相干时间）、频域相干性（相干带宽）、空域相干性（相干距离）`<br><br>
两大衰落：`大尺度衰弱（路径衰弱、阴影衰弱）、小尺度衰落（频率选择性衰弱、时间选择性衰弱、空间选择性衰弱）`<br>

大尺度衰弱主要由`远近效应和阴影效应`导致，即就是`路径衰弱、阴影衰弱`<br>
小尺度衰弱主要由`多径效应、开普勒效应`导致,即`三大扩展`->`三种相干`<br>

### 三、 无线信道模型<br>
无线信道模型分为`统计性模型和确定性模型`<br>
**统计性模型：** 由于无线信道的复杂性，无法直接勘测，所以采用基于大数定理将信道特征范化成不同的分布描述，例如`Rayleigh、Rician、Nakagami模型`<br>
**确定性模型：** 与具体环境严格对齐的传播特征，采用确定性模型来描述，例如`Ray-Tracing、Map-based模型`<br><br>

## 4. 信源编码<br>
### 4.1 模/数转换<br>
通过采样、量化和编码，将模拟信号转换为数字信号的过程，就是模/数转换<br><br>
**采样：** 采样是指将连续时间的模拟信号转换为离散时间的信号，采样定理是指采样频率必须大于信号最高频率的两倍<br><br>
**量化：** 量化是指将采样信号的电平归一化到有限个量化电平上，实现采样信号幅度的离散化。常见量化方法有**均匀量化和非均匀量化**。因为信号电平的量化值和实际值之差称为**量化误差**，也称为量化噪声。量化噪声的幅度最大等于量化间隔的1/2<br><br>
**编码：** 编码是指将量化后的信号电平值转换为二进制码，常见的编码方式有**自然二进制编码、格雷码、奇偶编码、反码、补码**<br><br>


### 4.2 语音编码<br>
假如传递的是语音的信号的话，分为不同情况进行讨论<br>
**语音信号的频率范围是300Hz~3400Hz，采样频率一般是8kHz，量化电平一般是256个，量化误差一般是1/2**<br><br>
一般的模拟信号都需要经过 `采用 -》 量化 -》 编码 -》 压缩（可选） -》 数字信号` 的过程<br><br>
G.711 PCM编码在电路交换网中应用广泛，采样频率8kHz，量化电平256个，编码字长8bits，码率=8khz*8bits=64kbps<br><br>
2G GSM采用RPE-LPT，采样频率8kHz，量化电平8192个，编码字长13bits，码率=8khz*13bits=104kbps，**压缩率8：1，实际码率是13kbps**<br><br>
3G WCDMA采用AMR-NB，Narrow Band，窄带AMR，采样频率8khz，量化电平65536个，编码字长16bits，采取动态压缩，实际码率在4.75kbps~12.2kbps之间<br><br>
4G VoLTE采用AMR-WB，Wide Band，宽带AMR，采样频率16khz，量化电平65536个，编码字长16bits，采取动态压缩，实际码率在6.6kbps~23.85kbps之间<br><br>

### 4.3 视频编码<br>
假如传递的模拟信号是视频信号，视频是由一帧一帧的图片组成，图像又由很多像素组成<br>
像素分为`黑白像素 1bit、灰度像素 8bits、彩色像素 24bits`<br><br>
假如一帧图片的分辨率为640*480（表明有640 * 480个像素），像素为彩色像素，那么传送一帧就需要640 * 480 * 24bits = 7372800bits = 7372.8kb = 7.37Mb<br><br>
然而，一般情况下，每秒有`25帧（25FPS）图片或30帧（30FPS）图片（根据人的生理结构，这样的帧率能够使得画面看起来是连续的）`<br>
为了实时播放，需要的带宽想都不敢想，所以压缩非常非常重要<br>

## 5. 信道编码与交织<br>
### 5.1 FEC前向纠错——重复码&分组码<br>
增加冗余信息以便纠错的最简单方法，就是将一组数据重复多次发送，这种方法称为重复码，接收端根据少数服从多数的原则来译码<br>
重复码的缺点是冗余信息太多，效率低<br><br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231011233831.png)
**如果错了2个，就无法纠错了**<br><br>

重复码冗余太大了，效果也不是很好，于是就有了分组码：分组码是将数据分组，每组数据加上一些冗余信息，这些冗余信息可以用来纠错，也可以用来检错<br><br>
(n,k)分组码：将k个信息位编码成n个码字，n>k，n-k个冗余位<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231011234111.png)
分组中的（n-k）位多余码元是用于检错和纠错的，一般称为监督码元或校验码元，他只监督本码组中的k个信息比特<br>
最简单的分组码就是——奇偶校验码<br>
```
最简单的分组码就是奇偶校验码，监督码元只有一位
检错：收到1个码字，对所有位做异或，如果为0，正确；如果为1，错误
纠错：奇偶校验码只能检测奇数个错误，不能纠正错误
```
分组码的另外一个方法：汉明码可以检测两位错误，纠正1位错误<br><br>
```
2^k >= N+K+1
其中，K代表校验位的位数，N代表信息位的位数
以（7，4）汉明码为例
a6 a5 a4 a3 为信息码元 a2 a1 a0为监督码元
a2 = a6+a5+a4
a1 = a6+a5+a3
a2 = a6+a4+a3
```

### 5.2 FEC前向纠错——卷积码<br>
其编码器输出除了与本次输入有关外，还与之前输入的信息码元有关<br>
一般用（n，k，K）来表示卷积码，其中：<br>
n：编码器每次输出的码元个数；<br>
k：编码器每次输入的信息码元个数，一般k=1；<br>
K：约束长度，在k=1的情况下，表示编码器的输出与本次及之前输入的K个码元相关<br>
**(n,1,k)卷积编码器一般由（K-1）级移位寄存器来实现**<br><br>
```
以（2，1，3）卷积码为例：即编码输出为2，每次输入为1，编码器的输出与本次及之前输入的3个码元相关
序列为 11011，2个移位寄存器初始值为0
u1(i) = m(i) + m(i-1) + m(i-2)
u2(i) = m(i) + m(i-2)
输入     寄存器状态          输出
m(i)   m(i-1) m(i-2)       u1(i) u2(i)
1       0      0           1     1
1       1      0           0     1
0       1      1           0     1
1       0      1           0     0
1       1      0           0     1
```
***卷积码的译码采用最大似然译码：译码器遍历编码器的所有可能输出结果序列，找出与译码器输入序列最接近的序列，作为译码结果***<br>
这样太没效率了，于是出现了`Viterbi译码算法`<br>
汉明距离：两个码字对应位不同的个数<br>
通过计算汉明距离，可以找到最接近的码字，思路是分析一个码字中的第3个输入以后，把2个中的一个大汉明距离的路径剔除<br>

### 5.3 交织&反馈重传<br>
信道编码后的码字逐行写入交织寄存器中，再逐行读出并发送出去
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231011234451.png)

FEC结合交织可以在一定程度上解决误码问题，但不能彻底解决，要想彻底解决误码问题，还要借助反馈重传技术<br><br>
一、ARQ（自动请求重传）
发送端发送具有一定检错能力的码，接收端发现出错后立即通知发送端重传，如果还是错，再次请求重传，直至接收到正确为止。
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231011234516.png)

二、HARQ（混合自动请求重传）
是FEC和ARQ的结合，发送端发送具有一定检错和纠错能力的FEC码，接收端发现出错后，尽其可能进行纠错，纠正不了，则立即通知发送端重传、如果还是接收错误，再次请求重传，直至接收正确为止。
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231011234551.png)

三、HARQ+ARQ
尽管HARQ的性能是优于ARQ的，但如果单纯使用HARQ重传，会导致解调门限大大提高(**解调门限是指解调器能够成功解调信号的最低信号质量标准。如果信号质量低于这个门限，解调器可能无法准确地恢复原始数据.在无线通信系统中，信号质量受多种因素影响，例如信道衰减、多径效应和干扰。每次重传都可能遇到不同的信道条件，可能会降低信号质量。ARQ 通常会保留先前接收到的错误版本，并将其与新重传的版本结合以尝试恢复正确的数据。但是，如果重传次数太多，来自多次重传的干扰可能会累积，进一步降低信号质量，从而提高解调门限**)。这是因为：重传次数一般都要受到最大重传次数的限制，要满足最恶劣信道条件下在达到最大重传次数之前能将数据传输正确，对解调门限提出了很高的要求。为了降低对解调门限的要求，移动通信系统中一般将二者结合起来使用。
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231011234848.png)
**利用HARQ重传将误码控制在一定水平，残留一部分误码给ARQ进行重传，这样系统性能可以达到最优。**<br>

## 6. 脉冲成形<br>
脉冲成形是数字通信中的一个重要步骤，它涉及到对信号的脉冲（或符号）进行特定的处理，以便于在通信系统中的有效传输。以下是脉冲成形的主要作用和优势：**降低频带占用、减少信号间干扰**<br><br>
矩形脉冲信号不适合在信道上传输<br>
sinc买车呢信号拖尾幅度大、衰减慢<br>
其他脉冲信号拖尾幅度小、衰减快，但占用的信道带宽也大

## 7. 调制解调<br>
调制的基本思路是 **发送端产生的高频载波信号，让高频载波的幅度、频率或相位随着调制信号变化、发送给接收端，接收端通过解调，恢复出调制信号** <br><br>
调制分为`模拟调制（将模拟信号调制成模拟信号）`和`数字调制（将数字信号调制成模拟信号）`<br>
有聪明的小伙伴可能会问：**为什么要将数字信号调制成模拟信号？一开始在信源编码的模数转换不是没意义吗？**<br>
***其实非也，一开始输入是模拟信号，也需要转换成数字信号来进行信息压缩，因为数字信号无法最终在信道上传输，所以需要将数字信号调制成模拟信号.另外：将模拟信号不经过模数转换，也是可以的，只不过现在不经常用了***<br>

### 7.1 模拟调制<br>
#### 7.1.1 幅度调制<br>
让高频载波的幅度随着调制信号的变化而变化<br>
![](https://raw.githubusercontent.com/wsxk/wsxk_pictures/main/2023-7-6/20231014004011.png)
因为`调制载波`为的频率为 $ w_c $ ,因此频率相当于乘上 $ w_c $ 。<br><br>
解调时，只需恢复`载波的频率和相位`，就可以利用相干解调将调制信号恢复出来。<br><br>
解调
### 7.2 数字调制<br>


## 8.